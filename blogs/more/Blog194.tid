tags: blog
title: Blog194
type: application/json

{"ID":194,"author":{"ID":1835213,"email":false,"name":"BoyCook","URL":"http://craigcook.co.uk","avatar_URL":"http://1.gravatar.com/avatar/7d3208cff2559445740d8ff7481c9940?s=96&d=identicon&r=G","profile_URL":"http://en.gravatar.com/boycook"},"date":"2013-03-30T00:24:38+00:00","modified":"2013-03-30T00:24:38+00:00","title":"Integration testing node.js web apps with JavaScript","URL":"http://boycook.wordpress.com/2013/03/30/integration-testing-node-js-web-apps-with-javascript/","short_URL":"http://wp.me/p7oJB-38","content":"<p>These are some loose guidelines for integration testing a web app in JavaScript. Ideal if you need to test an <a href=\"http://expressjs.com\" title=\"ExpressJS\" target=\"_blank\">ExpressJS</a> app or any kind of web service.</p>\n<p>The key issue is being able to stop and start the service as part of the test harness. Two ways of doing this are: </p>\n<h3>Using Mocha</h3>\n<p><a href=\"http://visionmedia.github.com/mocha\" title=\"Mocha\" target=\"_blank\">Mocha</a> is really useful because it has <code>before</code> and <code>after</code> hooks that can be used. These run once at the beginning and end of the test run and can be used to stop/start the service like so:</p>\n<p><code><br />\nvar server;<br />\nbefore(function (done) {<br />\n   server = new HttpServer({port: 8080}).start(done);<br />\n});</p>\n<p>after(function (done) {<br />\n   server.stop(done);<br />\n});<br />\n</code></p>\n<p>The full code can be seen here:</p>\n<p><script src=\"https://gist.github.com/BoyCook/5274570.js\"></script></p>\n<h3>Using a wrapper file</h3>\n<p>A wrapper file can be used that uses node.js spawn via <code>require('child_process').spawn</code>. This will spawn subprocess as if running a shell command. I have an example gist here:</p>\n<p><script src=\"https://gist.github.com/BoyCook/5070828.js\"></script></p>\n","excerpt":"<p>These are some loose guidelines for integration testing a web app in JavaScript. Ideal if you need to test an ExpressJS app or any kind of web service. The key issue is being able to stop and start the service &hellip; <a href=\"http://boycook.wordpress.com/2013/03/30/integration-testing-node-js-web-apps-with-javascript/\">Continue reading <span class=\"meta-nav\">&rarr;</span></a></p>\n","slug":"integration-testing-node-js-web-apps-with-javascript","status":"publish","password":"","parent":false,"type":"post","comments_open":true,"pings_open":true,"comment_count":0,"like_count":0,"i_like":0,"is_reblogged":0,"is_following":0,"featured_image":"","format":"standard","geo":false,"publicize_URLs":[],"tags":{"JavaScript":{"name":"JavaScript","slug":"javascript","description":"","post_count":2,"meta":{"links":{"self":"https://public-api.wordpress.com/rest/v1/sites/1763379/tags/slug:javascript","help":"https://public-api.wordpress.com/rest/v1/sites/1763379/tags/slug:javascript/help","site":"https://public-api.wordpress.com/rest/v1/sites/1763379"}}},"Mocha":{"name":"Mocha","slug":"mocha","description":"","post_count":2,"meta":{"links":{"self":"https://public-api.wordpress.com/rest/v1/sites/1763379/tags/slug:mocha","help":"https://public-api.wordpress.com/rest/v1/sites/1763379/tags/slug:mocha/help","site":"https://public-api.wordpress.com/rest/v1/sites/1763379"}}},"node":{"name":"node","slug":"node","description":"","post_count":1,"meta":{"links":{"self":"https://public-api.wordpress.com/rest/v1/sites/1763379/tags/slug:node","help":"https://public-api.wordpress.com/rest/v1/sites/1763379/tags/slug:node/help","site":"https://public-api.wordpress.com/rest/v1/sites/1763379"}}},"TDD":{"name":"TDD","slug":"tdd","description":"","post_count":1,"meta":{"links":{"self":"https://public-api.wordpress.com/rest/v1/sites/1763379/tags/slug:tdd","help":"https://public-api.wordpress.com/rest/v1/sites/1763379/tags/slug:tdd/help","site":"https://public-api.wordpress.com/rest/v1/sites/1763379"}}}},"categories":{"Uncategorized":{"name":"Uncategorized","slug":"uncategorized","description":"","post_count":4,"parent":0,"meta":{"links":{"self":"https://public-api.wordpress.com/rest/v1/sites/1763379/categories/slug:uncategorized","help":"https://public-api.wordpress.com/rest/v1/sites/1763379/categories/slug:uncategorized/help","site":"https://public-api.wordpress.com/rest/v1/sites/1763379"}}}},"attachments":{},"metadata":false,"meta":{"links":{"self":"https://public-api.wordpress.com/rest/v1/sites/1763379/posts/194","help":"https://public-api.wordpress.com/rest/v1/sites/1763379/posts/194/help","site":"https://public-api.wordpress.com/rest/v1/sites/1763379","replies":"https://public-api.wordpress.com/rest/v1/sites/1763379/posts/194/replies/","likes":"https://public-api.wordpress.com/rest/v1/sites/1763379/posts/194/likes/"}}}